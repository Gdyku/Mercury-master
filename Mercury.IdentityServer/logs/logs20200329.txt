2020-03-29 17:25:06.824 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:06.904 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:06.905 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:06.914 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:06.916 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:06.916 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:06.917 +02:00 [DBG] Start discovery request
2020-03-29 17:25:06.959 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:06.959 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:06.959 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:06.959 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:07.024 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:07.032 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:07.033 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:07.033 +02:00 [DBG] Start authorize request
2020-03-29 17:25:07.034 +02:00 [DBG] No user present in authorize request
2020-03-29 17:25:07.034 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:07.035 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:07.036 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:07.040 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"1a66cfa7b18a4a968da68394f2d0a816","UiLocales":null,"Nonce":"409b76c5067848ebb6fedd3520c74f16","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"1a66cfa7b18a4a968da68394f2d0a816","nonce":"409b76c5067848ebb6fedd3520c74f16","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:07.040 +02:00 [INF] Showing error: prompt=none was requested but user is not authenticated
2020-03-29 17:25:07.043 +02:00 [INF] {"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"1a66cfa7b18a4a968da68394f2d0a816","UiLocales":null,"Nonce":"409b76c5067848ebb6fedd3520c74f16","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"1a66cfa7b18a4a968da68394f2d0a816","nonce":"409b76c5067848ebb6fedd3520c74f16","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:08.355 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:08.355 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:08.355 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:08.355 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:08.355 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:08.355 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:08.356 +02:00 [DBG] Start discovery request
2020-03-29 17:25:08.433 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:08.434 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:08.434 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:08.434 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:08.649 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:08.650 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:08.651 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:08.651 +02:00 [DBG] Start authorize request
2020-03-29 17:25:08.651 +02:00 [DBG] No user present in authorize request
2020-03-29 17:25:08.651 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:08.651 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:08.651 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:08.651 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"8e8dc8e586d0487c8648bf53301fe695","UiLocales":null,"Nonce":"884b0deba971435293464bd83d32fa58","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"8e8dc8e586d0487c8648bf53301fe695","nonce":"884b0deba971435293464bd83d32fa58","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:08.652 +02:00 [INF] Showing error: prompt=none was requested but user is not authenticated
2020-03-29 17:25:08.652 +02:00 [INF] {"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"8e8dc8e586d0487c8648bf53301fe695","UiLocales":null,"Nonce":"884b0deba971435293464bd83d32fa58","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"8e8dc8e586d0487c8648bf53301fe695","nonce":"884b0deba971435293464bd83d32fa58","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:09.105 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:09.105 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:09.105 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:09.105 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:09.106 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:09.106 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:09.106 +02:00 [DBG] Start discovery request
2020-03-29 17:25:09.219 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:09.219 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:09.219 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:09.219 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:09.501 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:09.501 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:09.501 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:09.501 +02:00 [DBG] Start authorize request
2020-03-29 17:25:09.501 +02:00 [DBG] No user present in authorize request
2020-03-29 17:25:09.501 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:09.501 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:09.502 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:09.502 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"e6d91a4236cc496584a596bedbd17102","UiLocales":null,"Nonce":"7c73e9b1a02c486583a656630ca79313","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"e6d91a4236cc496584a596bedbd17102","nonce":"7c73e9b1a02c486583a656630ca79313"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:09.502 +02:00 [INF] Showing login: User is not authenticated
2020-03-29 17:25:13.155 +02:00 [DBG] Augmenting SignInContext
2020-03-29 17:25:13.155 +02:00 [DBG] Adding idp claim with value: local
2020-03-29 17:25:13.155 +02:00 [DBG] Adding amr claim with value: pwd
2020-03-29 17:25:13.165 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-03-29 17:25:13.165 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-03-29 17:25:13.166 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-29 17:25:13.166 +02:00 [DBG] Start authorize callback request
2020-03-29 17:25:13.167 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:25:13.167 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:13.167 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:13.167 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:13.168 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"e6d91a4236cc496584a596bedbd17102","UiLocales":null,"Nonce":"7c73e9b1a02c486583a656630ca79313","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"e6d91a4236cc496584a596bedbd17102","nonce":"7c73e9b1a02c486583a656630ca79313"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:13.175 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:25:13.175 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:25:13.176 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 17:25:13.176 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 17:25:13.214 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:25:13.214 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 17:25:13.215 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"e6d91a4236cc496584a596bedbd17102","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:25:13.216 +02:00 [DBG] Augmenting SignInContext
2020-03-29 17:25:13.843 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:13.844 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:13.844 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:13.844 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:13.844 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:13.844 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:13.845 +02:00 [DBG] Start discovery request
2020-03-29 17:25:14.051 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:14.051 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:14.051 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:14.051 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:14.260 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:14.260 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:14.260 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:14.260 +02:00 [DBG] Start authorize request
2020-03-29 17:25:14.260 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:25:14.260 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:14.260 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:14.261 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:14.261 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"b88c92e77ae24d1a9c3a33c0a01209d6","UiLocales":null,"Nonce":"f643854d106c40bd84069609cd7cdf02","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"b88c92e77ae24d1a9c3a33c0a01209d6","nonce":"f643854d106c40bd84069609cd7cdf02","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:14.266 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:25:14.266 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:25:14.266 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:25:14.272 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"b88c92e77ae24d1a9c3a33c0a01209d6","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:25:15.239 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:15.240 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:15.240 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:15.240 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:15.240 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:15.240 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:15.240 +02:00 [DBG] Start discovery request
2020-03-29 17:25:15.318 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:15.318 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:15.319 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:15.319 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:15.757 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:15.759 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:15.759 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:15.759 +02:00 [DBG] Start authorize request
2020-03-29 17:25:15.760 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:25:15.760 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:15.761 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:15.761 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:15.762 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"7f81e3b8a8ca4d60b120719a5b6a9c8a","UiLocales":null,"Nonce":"aae27067339e4b82ad071d78a2bb7da9","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"7f81e3b8a8ca4d60b120719a5b6a9c8a","nonce":"aae27067339e4b82ad071d78a2bb7da9","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:15.767 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:25:15.767 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:25:15.767 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:25:15.771 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"7f81e3b8a8ca4d60b120719a5b6a9c8a","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:25:46.151 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:46.151 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:46.151 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:46.154 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:46.154 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:46.154 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:46.154 +02:00 [DBG] Start discovery request
2020-03-29 17:25:46.238 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:46.238 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:46.238 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:46.238 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:46.440 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:46.441 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:46.441 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:46.441 +02:00 [DBG] Start authorize request
2020-03-29 17:25:46.441 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:25:46.441 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:46.441 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:46.441 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:46.441 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"9b0e213fdf1b4b84ae3beb3165ce47f0","UiLocales":null,"Nonce":"5b8ec36b7e704556a6c8bb6a646faa69","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"9b0e213fdf1b4b84ae3beb3165ce47f0","nonce":"5b8ec36b7e704556a6c8bb6a646faa69","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:46.450 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:25:46.450 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:25:46.451 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:25:46.458 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"9b0e213fdf1b4b84ae3beb3165ce47f0","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:25:47.132 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:25:47.132 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:25:47.132 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:25:47.132 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:25:47.132 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:25:47.132 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:25:47.132 +02:00 [DBG] Start discovery request
2020-03-29 17:25:47.233 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:25:47.233 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:25:47.233 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:25:47.233 +02:00 [DBG] Rendering check session result
2020-03-29 17:25:47.520 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:25:47.521 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:25:47.521 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:25:47.521 +02:00 [DBG] Start authorize request
2020-03-29 17:25:47.521 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:25:47.521 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:25:47.521 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:25:47.521 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:25:47.521 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"7a2abd35e74241ce8051c45459b5b88e","UiLocales":null,"Nonce":"4ffb57268f1947a3aaaf6a54dd128723","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"7a2abd35e74241ce8051c45459b5b88e","nonce":"4ffb57268f1947a3aaaf6a54dd128723","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:25:47.526 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:25:47.526 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:25:47.526 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:25:47.530 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"7a2abd35e74241ce8051c45459b5b88e","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:26:27.056 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:26:27.057 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:26:27.057 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:26:27.061 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:26:27.061 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:26:27.061 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:26:27.061 +02:00 [DBG] Start discovery request
2020-03-29 17:26:27.183 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:26:27.183 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:26:27.183 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:26:27.183 +02:00 [DBG] Rendering check session result
2020-03-29 17:26:27.368 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:26:27.369 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:26:27.369 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:26:27.369 +02:00 [DBG] Start authorize request
2020-03-29 17:26:27.369 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:26:27.369 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:26:27.369 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:26:27.369 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:26:27.369 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"258427ec15ab47c79d7f80fa7ceb338e","UiLocales":null,"Nonce":"2852f998e7fc4a49a7948f23972e3e4b","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"258427ec15ab47c79d7f80fa7ceb338e","nonce":"2852f998e7fc4a49a7948f23972e3e4b","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:26:27.374 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:26:27.374 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:26:27.374 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:26:27.378 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"258427ec15ab47c79d7f80fa7ceb338e","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:26:28.007 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:26:28.007 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:26:28.008 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:26:28.008 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:26:28.008 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:26:28.008 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:26:28.008 +02:00 [DBG] Start discovery request
2020-03-29 17:26:28.106 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:26:28.106 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:26:28.106 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:26:28.106 +02:00 [DBG] Rendering check session result
2020-03-29 17:26:28.383 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:26:28.383 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:26:28.383 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:26:28.383 +02:00 [DBG] Start authorize request
2020-03-29 17:26:28.383 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:26:28.383 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:26:28.383 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:26:28.384 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:26:28.384 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"a0d61aa47a7146dea909a2440ff976c0","UiLocales":null,"Nonce":"874bc2fd11b54ed0b47b2d4487301bb5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"a0d61aa47a7146dea909a2440ff976c0","nonce":"874bc2fd11b54ed0b47b2d4487301bb5","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:26:28.389 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:26:28.389 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:26:28.389 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:26:28.392 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"a0d61aa47a7146dea909a2440ff976c0","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:26:48.609 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:26:48.611 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:26:48.611 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:26:48.636 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:26:48.636 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:26:48.636 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:26:48.636 +02:00 [DBG] Start discovery request
2020-03-29 17:26:48.769 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:26:48.769 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:26:48.769 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:26:48.769 +02:00 [DBG] Rendering check session result
2020-03-29 17:26:48.941 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:26:48.941 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:26:48.941 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:26:48.941 +02:00 [DBG] Start authorize request
2020-03-29 17:26:48.941 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:26:48.941 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:26:48.942 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:26:48.942 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:26:48.942 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"243eda5494f646ad9edaa3984b952ef1","UiLocales":null,"Nonce":"0242e0b139d4470a8359a543fc011d62","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"243eda5494f646ad9edaa3984b952ef1","nonce":"0242e0b139d4470a8359a543fc011d62","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:26:48.951 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:26:48.951 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:26:48.951 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:26:48.956 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"243eda5494f646ad9edaa3984b952ef1","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:26:49.419 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:26:49.419 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:26:49.419 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:26:49.419 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:26:49.419 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:26:49.419 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:26:49.419 +02:00 [DBG] Start discovery request
2020-03-29 17:26:49.505 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:26:49.505 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:26:49.505 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:26:49.505 +02:00 [DBG] Rendering check session result
2020-03-29 17:26:49.775 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:26:49.775 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:26:49.776 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:26:49.776 +02:00 [DBG] Start authorize request
2020-03-29 17:26:49.776 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:26:49.776 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:26:49.776 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:26:49.776 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:26:49.776 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"8a026172dd1549a3bf0e39721f64b5a0","UiLocales":null,"Nonce":"5b3bd32a919c4bedbc8067e857c6e211","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"8a026172dd1549a3bf0e39721f64b5a0","nonce":"5b3bd32a919c4bedbc8067e857c6e211","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:26:49.780 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:26:49.780 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:26:49.781 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:26:49.787 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"8a026172dd1549a3bf0e39721f64b5a0","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:47:34.950 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:47:34.963 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:47:34.964 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:47:34.987 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:47:35.005 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:47:35.007 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:47:35.008 +02:00 [DBG] Start discovery request
2020-03-29 17:47:35.081 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:47:35.081 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:47:35.082 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:47:35.082 +02:00 [DBG] Rendering check session result
2020-03-29 17:47:35.268 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:47:35.281 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:47:35.281 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:47:35.283 +02:00 [DBG] Start authorize request
2020-03-29 17:47:35.284 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:47:35.284 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:47:35.285 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:47:35.286 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:47:35.290 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"73ae2dd955c5415d983b9eb5f9c5274b","UiLocales":null,"Nonce":"1ca3c9250b5b4337a6c0320de7b36d8a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"73ae2dd955c5415d983b9eb5f9c5274b","nonce":"1ca3c9250b5b4337a6c0320de7b36d8a","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:47:35.362 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:47:35.362 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:47:35.364 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:47:35.397 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"73ae2dd955c5415d983b9eb5f9c5274b","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:47:36.295 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:47:36.296 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:47:36.296 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:47:36.296 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:47:36.296 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:47:36.296 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:47:36.296 +02:00 [DBG] Start discovery request
2020-03-29 17:47:36.370 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:47:36.370 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:47:36.370 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:47:36.370 +02:00 [DBG] Rendering check session result
2020-03-29 17:47:36.631 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:47:36.631 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:47:36.631 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:47:36.631 +02:00 [DBG] Start authorize request
2020-03-29 17:47:36.631 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:47:36.631 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:47:36.631 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:47:36.631 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:47:36.632 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"fed5c05aed1f4ea8942ca3867646be92","UiLocales":null,"Nonce":"624fe90e44504a449691173e171c313d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"fed5c05aed1f4ea8942ca3867646be92","nonce":"624fe90e44504a449691173e171c313d","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:47:36.636 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:47:36.636 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:47:36.636 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:47:36.640 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"fed5c05aed1f4ea8942ca3867646be92","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:04.322 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:04.322 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:04.337 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:04.341 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:04.341 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:04.341 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:04.341 +02:00 [DBG] Start discovery request
2020-03-29 17:48:04.420 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:04.420 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:04.420 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:04.420 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:05.104 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:05.105 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:05.106 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:05.106 +02:00 [DBG] Start authorize request
2020-03-29 17:48:05.106 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:05.106 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:05.106 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:05.107 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:05.107 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"82208bf02a2c46ea8a7c5d6debc3b6b6","UiLocales":null,"Nonce":"642ada80c6ab4f6497d582ef7bdcba0a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"82208bf02a2c46ea8a7c5d6debc3b6b6","nonce":"642ada80c6ab4f6497d582ef7bdcba0a","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:05.115 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:05.115 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:05.115 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:05.122 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"82208bf02a2c46ea8a7c5d6debc3b6b6","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:06.169 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:06.169 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:06.169 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:06.169 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:06.169 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:06.169 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:06.169 +02:00 [DBG] Start discovery request
2020-03-29 17:48:06.265 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:06.265 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:06.265 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:06.265 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:06.510 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:06.511 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:06.511 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:06.511 +02:00 [DBG] Start authorize request
2020-03-29 17:48:06.511 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:06.511 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:06.511 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:06.512 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:06.514 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"38ed77e0c9df4530a2bcb544b833944f","UiLocales":null,"Nonce":"d9de8b5e05584847a1816ef027b19285","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"UxfZsFqYXkZyNuzUp4x7cQ","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"38ed77e0c9df4530a2bcb544b833944f","nonce":"d9de8b5e05584847a1816ef027b19285","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:06.517 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:06.517 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:06.518 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:06.521 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"38ed77e0c9df4530a2bcb544b833944f","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:10.316 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:10.316 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:10.316 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:10.316 +02:00 [DBG] Start discovery request
2020-03-29 17:48:10.371 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-03-29 17:48:10.372 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-03-29 17:48:10.373 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-29 17:48:10.373 +02:00 [DBG] Start key discovery request
2020-03-29 17:48:14.420 +02:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2020-03-29 17:48:14.421 +02:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2020-03-29 17:48:14.421 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-03-29 17:48:14.424 +02:00 [DBG] Processing signout request for test2@test.com
2020-03-29 17:48:14.425 +02:00 [DBG] Start end session request validation
2020-03-29 17:48:14.426 +02:00 [DBG] Start identity token validation
2020-03-29 17:48:14.434 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:14.435 +02:00 [DBG] Client found: implicitClient / null
2020-03-29 17:48:14.436 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: https://localhost:3000
2020-03-29 17:48:14.436 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:14.436 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:14.436 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-03-29 17:48:14.437 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-03-29 17:48:14.437 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-29 17:48:14.437 +02:00 [DBG] Start key discovery request
2020-03-29 17:48:14.448 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-03-29 17:48:14.449 +02:00 [DBG] Token validation success
{"ClientId":"implicitClient","ClientName":null,"ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1585416818,"exp":1585417118,"iss":"https://localhost:44301","aud":"implicitClient","nonce":"d3148bdd9e234d8ea288392234bc83c3","iat":1585416818,"at_hash":"LkMACU7XDb6t9MBlSTlFKA","s_hash":"KxTg-C5l4ZEPA2beCySSWw","sid":"wT2kHeWRSTzZZgMocBwYHQ","sub":"test2@test.com","auth_time":1585416818,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2020-03-29 17:48:14.450 +02:00 [INF] End session request validation success
{"ClientId":"implicitClient","ClientName":null,"SubjectId":"test2@test.com","PostLogOutUri":"https://localhost:3000/","State":null,"Raw":{"id_token_hint":"***REDACTED***","post_logout_redirect_uri":"https://localhost:3000/"},"$type":"EndSessionRequestValidationLog"}
2020-03-29 17:48:14.450 +02:00 [DBG] Success validating end session request from implicitClient
2020-03-29 17:48:15.345 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:15.345 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:15.345 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:15.345 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:15.345 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:15.345 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:15.345 +02:00 [DBG] Start discovery request
2020-03-29 17:48:15.415 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:15.415 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:15.415 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:15.415 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:15.487 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:15.488 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:15.488 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:15.488 +02:00 [DBG] Start authorize request
2020-03-29 17:48:15.488 +02:00 [DBG] No user present in authorize request
2020-03-29 17:48:15.488 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:15.489 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:15.489 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:15.489 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"1f709acac87548e1801d523c0703236a","UiLocales":null,"Nonce":"a6ff1c7d640c43469d18542651432e65","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"1f709acac87548e1801d523c0703236a","nonce":"a6ff1c7d640c43469d18542651432e65","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:15.489 +02:00 [INF] Showing error: prompt=none was requested but user is not authenticated
2020-03-29 17:48:15.489 +02:00 [INF] {"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"1f709acac87548e1801d523c0703236a","UiLocales":null,"Nonce":"a6ff1c7d640c43469d18542651432e65","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"1f709acac87548e1801d523c0703236a","nonce":"a6ff1c7d640c43469d18542651432e65","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:15.738 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:15.738 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:15.738 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:15.739 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:15.739 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:15.739 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:15.739 +02:00 [DBG] Start discovery request
2020-03-29 17:48:15.810 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:15.810 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:15.810 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:15.810 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:15.957 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:15.958 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:15.958 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:15.958 +02:00 [DBG] Start authorize request
2020-03-29 17:48:15.958 +02:00 [DBG] No user present in authorize request
2020-03-29 17:48:15.958 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:15.958 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:15.959 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:15.959 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"f75478cf253f4485b97a4c372d3574a1","UiLocales":null,"Nonce":"d64383650a644406a45f2981751fe455","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"f75478cf253f4485b97a4c372d3574a1","nonce":"d64383650a644406a45f2981751fe455","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:15.959 +02:00 [INF] Showing error: prompt=none was requested but user is not authenticated
2020-03-29 17:48:15.959 +02:00 [INF] {"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"f75478cf253f4485b97a4c372d3574a1","UiLocales":null,"Nonce":"d64383650a644406a45f2981751fe455","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"f75478cf253f4485b97a4c372d3574a1","nonce":"d64383650a644406a45f2981751fe455","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:16.363 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:16.364 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:16.364 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:16.364 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:16.364 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:16.364 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:16.364 +02:00 [DBG] Start discovery request
2020-03-29 17:48:16.420 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:16.421 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:16.421 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:16.421 +02:00 [DBG] Start authorize request
2020-03-29 17:48:16.421 +02:00 [DBG] No user present in authorize request
2020-03-29 17:48:16.421 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:16.421 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:16.422 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:16.422 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"dcaf7a95833a47499e7fb48e5a8e7e8d","UiLocales":null,"Nonce":"5cffd5a184bd49d5888a6afd9a4b2ff1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"dcaf7a95833a47499e7fb48e5a8e7e8d","nonce":"5cffd5a184bd49d5888a6afd9a4b2ff1"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:16.423 +02:00 [INF] Showing login: User is not authenticated
2020-03-29 17:48:16.557 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:16.558 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:16.558 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:16.558 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:20.094 +02:00 [DBG] Augmenting SignInContext
2020-03-29 17:48:20.094 +02:00 [DBG] Adding idp claim with value: local
2020-03-29 17:48:20.094 +02:00 [DBG] Adding amr claim with value: pwd
2020-03-29 17:48:20.098 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-03-29 17:48:20.098 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-03-29 17:48:20.098 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-29 17:48:20.098 +02:00 [DBG] Start authorize callback request
2020-03-29 17:48:20.098 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:20.098 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:20.098 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:20.099 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:20.099 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"dcaf7a95833a47499e7fb48e5a8e7e8d","UiLocales":null,"Nonce":"5cffd5a184bd49d5888a6afd9a4b2ff1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"dcaf7a95833a47499e7fb48e5a8e7e8d","nonce":"5cffd5a184bd49d5888a6afd9a4b2ff1"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:20.103 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:20.103 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:20.104 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 17:48:20.104 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 17:48:20.108 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:20.109 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 17:48:20.110 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"dcaf7a95833a47499e7fb48e5a8e7e8d","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:20.110 +02:00 [DBG] Augmenting SignInContext
2020-03-29 17:48:20.494 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:20.494 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:20.494 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:20.494 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:20.494 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:20.495 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:20.495 +02:00 [DBG] Start discovery request
2020-03-29 17:48:20.589 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:20.589 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:20.589 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:20.589 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:20.758 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:20.758 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:20.758 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:20.758 +02:00 [DBG] Start authorize request
2020-03-29 17:48:20.759 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:20.759 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:20.759 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:20.759 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:20.759 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"cb34674dab594ced8d63b777db6b8548","UiLocales":null,"Nonce":"309bd9d06bcf424a844848af553a6285","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"cb34674dab594ced8d63b777db6b8548","nonce":"309bd9d06bcf424a844848af553a6285","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:20.762 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:20.762 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:20.762 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:20.766 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"cb34674dab594ced8d63b777db6b8548","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:21.119 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:21.119 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:21.119 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:21.120 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:21.120 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:21.120 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:21.120 +02:00 [DBG] Start discovery request
2020-03-29 17:48:21.197 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:21.197 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:21.197 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:21.197 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:21.580 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:21.580 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:21.580 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:21.580 +02:00 [DBG] Start authorize request
2020-03-29 17:48:21.580 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:21.580 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:21.581 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:21.581 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:21.581 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"6a184ed6f1fe4bd4a45a406c7db0179d","UiLocales":null,"Nonce":"dfb03a8c8e004a6182b7cd32e067c39a","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"6a184ed6f1fe4bd4a45a406c7db0179d","nonce":"dfb03a8c8e004a6182b7cd32e067c39a","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:21.585 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:21.585 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:21.585 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:21.589 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"6a184ed6f1fe4bd4a45a406c7db0179d","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:36.104 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:36.104 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:36.104 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:36.104 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:36.105 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:36.105 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:36.105 +02:00 [DBG] Start discovery request
2020-03-29 17:48:36.109 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:36.109 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:36.109 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:36.109 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:36.109 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:36.109 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:36.109 +02:00 [DBG] Start discovery request
2020-03-29 17:48:36.307 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:36.307 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:36.307 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:36.307 +02:00 [DBG] Start authorize request
2020-03-29 17:48:36.308 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:36.308 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:36.308 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:36.309 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:36.309 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"32a8c79525d24d90be74440a757078d7","UiLocales":null,"Nonce":"6d7672bd6d3346a3aabd922694edcfe1","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"32a8c79525d24d90be74440a757078d7","nonce":"6d7672bd6d3346a3aabd922694edcfe1"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:36.342 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:36.342 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:36.342 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 17:48:36.342 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 17:48:36.356 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:36.357 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 17:48:36.358 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"32a8c79525d24d90be74440a757078d7","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:36.407 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:36.407 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:36.407 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:36.408 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:36.865 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:36.865 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:36.865 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:36.866 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:36.866 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:36.866 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:36.866 +02:00 [DBG] Start discovery request
2020-03-29 17:48:37.082 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:37.082 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:37.083 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:37.083 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:37.226 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:37.226 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:37.226 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:37.226 +02:00 [DBG] Start authorize request
2020-03-29 17:48:37.226 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:37.226 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:37.227 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:37.227 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:37.227 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"851c0d6b4f954ccebb67796ad41fa727","UiLocales":null,"Nonce":"5eba845d287b403e9faf2286299d2a26","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"851c0d6b4f954ccebb67796ad41fa727","nonce":"5eba845d287b403e9faf2286299d2a26","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:37.230 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:37.230 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:37.231 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:37.236 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"851c0d6b4f954ccebb67796ad41fa727","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:37.626 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:37.626 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:37.626 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:37.627 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:37.627 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:37.627 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:37.627 +02:00 [DBG] Start discovery request
2020-03-29 17:48:37.764 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:37.764 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:37.764 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:37.764 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:37.947 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:37.948 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:37.948 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:37.948 +02:00 [DBG] Start authorize request
2020-03-29 17:48:37.948 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:37.948 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:37.948 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:37.948 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:37.948 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"ce31b0bdd7014848a53dfcb083ff7831","UiLocales":null,"Nonce":"8e5c32ba3c594aeea888035884bc4633","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"ce31b0bdd7014848a53dfcb083ff7831","nonce":"8e5c32ba3c594aeea888035884bc4633","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:37.952 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:37.952 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:37.952 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:37.957 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"ce31b0bdd7014848a53dfcb083ff7831","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 17:48:38.339 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 17:48:38.339 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 17:48:38.339 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 17:48:38.339 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 17:48:38.339 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 17:48:38.339 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 17:48:38.339 +02:00 [DBG] Start discovery request
2020-03-29 17:48:38.432 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 17:48:38.432 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 17:48:38.432 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 17:48:38.432 +02:00 [DBG] Rendering check session result
2020-03-29 17:48:38.704 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 17:48:38.705 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 17:48:38.705 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 17:48:38.705 +02:00 [DBG] Start authorize request
2020-03-29 17:48:38.705 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 17:48:38.705 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 17:48:38.705 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 17:48:38.705 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 17:48:38.706 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"e5bab3c4e1014b40826620508f85a8eb","UiLocales":null,"Nonce":"06accc2e6a3e4081b70f590da6463526","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"e5bab3c4e1014b40826620508f85a8eb","nonce":"06accc2e6a3e4081b70f590da6463526","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 17:48:38.709 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 17:48:38.709 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 17:48:38.709 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 17:48:38.714 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"e5bab3c4e1014b40826620508f85a8eb","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:15.624 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:15.624 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:15.625 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:15.625 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:15.625 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:15.625 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:15.625 +02:00 [DBG] Start discovery request
2020-03-29 18:07:15.635 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:15.635 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:15.635 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:15.635 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:15.635 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:15.636 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:15.636 +02:00 [DBG] Start discovery request
2020-03-29 18:07:15.692 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:15.694 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:15.694 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:15.694 +02:00 [DBG] Start authorize request
2020-03-29 18:07:15.694 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:15.694 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:15.694 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:15.694 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:15.694 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:15.694 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:15.694 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:15.695 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:15.696 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"2f657edb70f24b62af9dc853bf8a4519","UiLocales":null,"Nonce":"ac1d2eb6bf18413fa08d3c0da81dc2c2","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"2f657edb70f24b62af9dc853bf8a4519","nonce":"ac1d2eb6bf18413fa08d3c0da81dc2c2"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:15.721 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:15.721 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:15.721 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 18:07:15.721 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 18:07:15.724 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:15.724 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 18:07:15.726 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"2f657edb70f24b62af9dc853bf8a4519","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:15.758 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:15.758 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:15.758 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:15.758 +02:00 [DBG] Start authorize request
2020-03-29 18:07:15.758 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:15.758 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:15.758 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:15.759 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:15.759 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"47c1d1d05103461083edd6fe5a90184c","UiLocales":null,"Nonce":"eb0d9529896642bb9129cf28bf9790bd","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"47c1d1d05103461083edd6fe5a90184c","nonce":"eb0d9529896642bb9129cf28bf9790bd","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:15.761 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:15.762 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:15.762 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:15.765 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"47c1d1d05103461083edd6fe5a90184c","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:17.424 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:17.425 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:17.425 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:17.425 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:17.425 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:17.425 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:17.425 +02:00 [DBG] Start discovery request
2020-03-29 18:07:17.629 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:17.630 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:17.630 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:17.630 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:17.750 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:17.750 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:17.750 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:17.750 +02:00 [DBG] Start authorize request
2020-03-29 18:07:17.750 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:17.750 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:17.751 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:17.751 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:17.751 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"6488c99b02db414c9fb4fbbaec19f772","UiLocales":null,"Nonce":"99e8235d89fc4af39e89071c3234acf0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"6488c99b02db414c9fb4fbbaec19f772","nonce":"99e8235d89fc4af39e89071c3234acf0","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:17.755 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:17.755 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:17.755 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:17.760 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"6488c99b02db414c9fb4fbbaec19f772","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:18.132 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:18.133 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:18.133 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:18.133 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:18.133 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:18.133 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:18.133 +02:00 [DBG] Start discovery request
2020-03-29 18:07:18.280 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:18.280 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:18.280 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:18.280 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:18.559 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:18.559 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:18.559 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:18.559 +02:00 [DBG] Start authorize request
2020-03-29 18:07:18.559 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:18.559 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:18.559 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:18.560 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:18.560 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"4b3cf54ea12a44efb18edc824536f8e8","UiLocales":null,"Nonce":"eaa9cb091e534f2689413093b46709bc","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"4b3cf54ea12a44efb18edc824536f8e8","nonce":"eaa9cb091e534f2689413093b46709bc","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:18.563 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:18.563 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:18.563 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:18.567 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"4b3cf54ea12a44efb18edc824536f8e8","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:19.095 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:19.095 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:19.095 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:19.095 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:19.095 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:19.096 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:19.096 +02:00 [DBG] Start discovery request
2020-03-29 18:07:19.193 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:19.193 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:19.193 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:19.193 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:19.599 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:19.599 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:19.599 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:19.599 +02:00 [DBG] Start authorize request
2020-03-29 18:07:19.600 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:19.600 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:19.600 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:19.600 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:19.601 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"6bb70f552b8b4604a1e1ada0c70d17d5","UiLocales":null,"Nonce":"cd7787ed823e40abb9245726927ba6f4","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"6bb70f552b8b4604a1e1ada0c70d17d5","nonce":"cd7787ed823e40abb9245726927ba6f4","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:19.610 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:19.610 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:19.611 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:19.617 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"6bb70f552b8b4604a1e1ada0c70d17d5","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:22.723 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:22.723 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:22.723 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:22.724 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:22.724 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:22.724 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:22.724 +02:00 [DBG] Start discovery request
2020-03-29 18:07:22.728 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:22.728 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:22.728 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:22.728 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:22.728 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:22.729 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:22.729 +02:00 [DBG] Start discovery request
2020-03-29 18:07:22.799 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:22.800 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:22.800 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:22.800 +02:00 [DBG] Start authorize request
2020-03-29 18:07:22.800 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:22.800 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:22.800 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:22.801 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:22.801 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"6721e4705a3647c7868483b0e44ba1d7","UiLocales":null,"Nonce":"b16e080fec544581b82772f71a1ce53d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"6721e4705a3647c7868483b0e44ba1d7","nonce":"b16e080fec544581b82772f71a1ce53d"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:22.805 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:22.805 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:22.806 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 18:07:22.806 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 18:07:22.808 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:22.809 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:22.809 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:22.809 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:22.811 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:22.811 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 18:07:22.813 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"6721e4705a3647c7868483b0e44ba1d7","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:23.331 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:23.331 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:23.331 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:23.331 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:23.331 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:23.332 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:23.332 +02:00 [DBG] Start discovery request
2020-03-29 18:07:23.502 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:23.502 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:23.502 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:23.502 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:23.648 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:23.648 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:23.648 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:23.648 +02:00 [DBG] Start authorize request
2020-03-29 18:07:23.649 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:23.649 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:23.649 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:23.650 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:23.650 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"1f5499d9f91c4cb8b47db0f161fee9ec","UiLocales":null,"Nonce":"6b98bab30676487d8ea2758389f286ca","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"1f5499d9f91c4cb8b47db0f161fee9ec","nonce":"6b98bab30676487d8ea2758389f286ca","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:23.656 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:23.656 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:23.656 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:23.659 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"1f5499d9f91c4cb8b47db0f161fee9ec","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:23.941 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:23.941 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:23.942 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:23.942 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:23.942 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:23.942 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:23.942 +02:00 [DBG] Start discovery request
2020-03-29 18:07:24.049 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:24.050 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:24.050 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:24.050 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:24.230 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:24.232 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:24.232 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:24.233 +02:00 [DBG] Start authorize request
2020-03-29 18:07:24.233 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:24.233 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:24.233 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:24.233 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:24.234 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"caf2664574f844c4940f16fd04990f79","UiLocales":null,"Nonce":"89cabab9ea414c829520e25c7b115679","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"caf2664574f844c4940f16fd04990f79","nonce":"89cabab9ea414c829520e25c7b115679","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:24.237 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:24.238 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:24.238 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:24.243 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"caf2664574f844c4940f16fd04990f79","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:24.669 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:24.669 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:24.670 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:24.670 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:24.670 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:24.670 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:24.670 +02:00 [DBG] Start discovery request
2020-03-29 18:07:24.771 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:24.771 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:24.771 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:24.772 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:25.011 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:25.011 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:25.011 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:25.011 +02:00 [DBG] Start authorize request
2020-03-29 18:07:25.012 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:25.012 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:25.012 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:25.012 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:25.012 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"354b880e86fc4da8869a163beb2984dc","UiLocales":null,"Nonce":"48bb899bfbb4475f98d547b1f5b7fbc0","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"354b880e86fc4da8869a163beb2984dc","nonce":"48bb899bfbb4475f98d547b1f5b7fbc0","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:25.016 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:25.016 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:25.016 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:25.019 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"354b880e86fc4da8869a163beb2984dc","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:55.697 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:55.697 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:55.697 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:55.698 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:55.698 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:55.723 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:55.723 +02:00 [DBG] Start discovery request
2020-03-29 18:07:55.734 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:55.734 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:55.734 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:55.735 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:55.735 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:55.735 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:55.735 +02:00 [DBG] Start discovery request
2020-03-29 18:07:55.754 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:55.755 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:55.755 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:55.755 +02:00 [DBG] Start authorize request
2020-03-29 18:07:55.755 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:55.755 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:55.755 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:55.755 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:55.756 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"6c7d3165c55d49c78612cedb3e296342","UiLocales":null,"Nonce":"b55bf4b7319e4307a0b48a4041d84cff","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"6c7d3165c55d49c78612cedb3e296342","nonce":"b55bf4b7319e4307a0b48a4041d84cff"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:55.759 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:55.760 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:55.760 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:55.760 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:55.762 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:55.762 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:55.762 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 18:07:55.763 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 18:07:55.773 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:55.773 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 18:07:55.775 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"6c7d3165c55d49c78612cedb3e296342","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:56.225 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:56.254 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:56.255 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:56.255 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:56.255 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:56.255 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:56.255 +02:00 [DBG] Start discovery request
2020-03-29 18:07:56.448 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:56.448 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:56.448 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:56.448 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:56.516 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:56.517 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:56.517 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:56.517 +02:00 [DBG] Start authorize request
2020-03-29 18:07:56.517 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:56.517 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:56.517 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:56.517 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:56.517 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"233d6c78d4714f1f9939e36deed3c47d","UiLocales":null,"Nonce":"ec4fcd49a42045699520392b178caac3","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"233d6c78d4714f1f9939e36deed3c47d","nonce":"ec4fcd49a42045699520392b178caac3","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:56.520 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:56.520 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:56.521 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:56.524 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"233d6c78d4714f1f9939e36deed3c47d","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:56.762 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:56.762 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:56.762 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:56.763 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:56.763 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:56.763 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:56.763 +02:00 [DBG] Start discovery request
2020-03-29 18:07:56.841 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:56.841 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:56.841 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:56.841 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:57.005 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:57.005 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:57.005 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:57.005 +02:00 [DBG] Start authorize request
2020-03-29 18:07:57.005 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:57.005 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:57.005 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:57.005 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:57.006 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"e74cf67d8e0d4c9c842429a9be679738","UiLocales":null,"Nonce":"470c7cab4ec24662ab4e42a3ddef0ebf","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"e74cf67d8e0d4c9c842429a9be679738","nonce":"470c7cab4ec24662ab4e42a3ddef0ebf","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:57.009 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:57.009 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:57.009 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:57.012 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"e74cf67d8e0d4c9c842429a9be679738","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:57.395 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:57.395 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:57.395 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:57.395 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:57.395 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:57.395 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:57.395 +02:00 [DBG] Start discovery request
2020-03-29 18:07:57.523 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:57.523 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:57.523 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:57.523 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:57.818 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:57.818 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:57.818 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:57.818 +02:00 [DBG] Start authorize request
2020-03-29 18:07:57.818 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:57.818 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:57.818 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:57.818 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:57.818 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"29b7ebc819c0407c8918943cf491a535","UiLocales":null,"Nonce":"09d905c453784caf8c7f93a076cd8573","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"29b7ebc819c0407c8918943cf491a535","nonce":"09d905c453784caf8c7f93a076cd8573","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:57.821 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:57.822 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:57.822 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:57.827 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"29b7ebc819c0407c8918943cf491a535","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:58.515 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:58.515 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:58.515 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:58.515 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:58.515 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:58.515 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:58.515 +02:00 [DBG] Start discovery request
2020-03-29 18:07:58.519 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:58.519 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:58.519 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:58.520 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:58.520 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:58.520 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:58.520 +02:00 [DBG] Start discovery request
2020-03-29 18:07:58.602 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:58.602 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:58.602 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:58.602 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:58.602 +02:00 [DBG] Start authorize request
2020-03-29 18:07:58.602 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:58.602 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:58.602 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:58.603 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:58.603 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:58.604 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:58.607 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:58.607 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"c5b9869bebad456ca25e375c9c67ce9f","UiLocales":null,"Nonce":"6a5c986749ce487a98df794fd11eabea","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"c5b9869bebad456ca25e375c9c67ce9f","nonce":"6a5c986749ce487a98df794fd11eabea"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:58.611 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:58.611 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:58.611 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 18:07:58.611 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 18:07:58.615 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:58.615 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 18:07:58.617 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"c5b9869bebad456ca25e375c9c67ce9f","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:59.075 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:59.075 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:59.075 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:59.075 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:59.075 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:59.075 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:59.075 +02:00 [DBG] Start discovery request
2020-03-29 18:07:59.228 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:59.229 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:59.229 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:59.229 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:59.300 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:59.300 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:59.300 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:59.300 +02:00 [DBG] Start authorize request
2020-03-29 18:07:59.301 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:59.301 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:59.301 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:59.301 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:59.301 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"2c64dfd289bd4dd99ea03c0a5f6ec7a1","UiLocales":null,"Nonce":"42cff91a69af4d29b0590626f86e1af5","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"2c64dfd289bd4dd99ea03c0a5f6ec7a1","nonce":"42cff91a69af4d29b0590626f86e1af5","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:59.306 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:59.307 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:59.307 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:59.311 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"2c64dfd289bd4dd99ea03c0a5f6ec7a1","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:07:59.549 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:07:59.549 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:07:59.549 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:07:59.549 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:07:59.549 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:07:59.549 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:07:59.549 +02:00 [DBG] Start discovery request
2020-03-29 18:07:59.614 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:07:59.615 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:07:59.615 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:07:59.615 +02:00 [DBG] Rendering check session result
2020-03-29 18:07:59.762 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:07:59.762 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:07:59.762 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:07:59.762 +02:00 [DBG] Start authorize request
2020-03-29 18:07:59.762 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:07:59.762 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:07:59.762 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:07:59.762 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:07:59.763 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"64014a4ead4345e4841592c425e388ed","UiLocales":null,"Nonce":"62b4e8af26cc424fb63fcbe4a1ef7d07","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"64014a4ead4345e4841592c425e388ed","nonce":"62b4e8af26cc424fb63fcbe4a1ef7d07","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:07:59.765 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:07:59.766 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:07:59.766 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:07:59.768 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"64014a4ead4345e4841592c425e388ed","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:08:00.130 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:08:00.131 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:08:00.131 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:08:00.131 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:08:00.132 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:08:00.132 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:08:00.132 +02:00 [DBG] Start discovery request
2020-03-29 18:08:00.238 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:08:00.238 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:08:00.238 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:08:00.238 +02:00 [DBG] Rendering check session result
2020-03-29 18:08:00.652 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:08:00.652 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:08:00.652 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:08:00.652 +02:00 [DBG] Start authorize request
2020-03-29 18:08:00.653 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:08:00.653 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:08:00.653 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:08:00.653 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:08:00.653 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid","State":"ac1d9f8ec72c4cbb8eb51b5119919721","UiLocales":null,"Nonce":"a4499941f8024e969cf36c74403a1c29","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":"none","MaxAge":null,"LoginHint":null,"SessionId":"_Qt7Rys-J85HCu_8OrwTCg","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token","scope":"openid","state":"ac1d9f8ec72c4cbb8eb51b5119919721","nonce":"a4499941f8024e969cf36c74403a1c29","prompt":"none"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:08:00.658 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:08:00.658 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:08:00.658 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:08:00.661 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"ac1d9f8ec72c4cbb8eb51b5119919721","Scope":"openid","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:08:11.424 +02:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2020-03-29 18:08:11.425 +02:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2020-03-29 18:08:11.425 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-03-29 18:08:11.425 +02:00 [DBG] Processing signout request for test2@test.com
2020-03-29 18:08:11.425 +02:00 [DBG] Start end session request validation
2020-03-29 18:08:11.425 +02:00 [DBG] Start identity token validation
2020-03-29 18:08:11.426 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:08:11.426 +02:00 [DBG] Client found: implicitClient / null
2020-03-29 18:08:11.430 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-03-29 18:08:11.430 +02:00 [DBG] Token validation success
{"ClientId":"implicitClient","ClientName":null,"ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1585496885,"exp":1585497185,"iss":"https://localhost:44301","aud":"implicitClient","nonce":"642ada80c6ab4f6497d582ef7bdcba0a","iat":1585496885,"s_hash":"3DVaKOUGw9XA_uOh1eMVpQ","sid":"UxfZsFqYXkZyNuzUp4x7cQ","sub":"test2@test.com","auth_time":1585495513,"idp":"local","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier":"5","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name":"test2@test.com","Id":"5","amr":"pwd"},"$type":"TokenValidationLog"}
2020-03-29 18:08:11.431 +02:00 [INF] End session request validation success
{"ClientId":"implicitClient","ClientName":null,"SubjectId":"test2@test.com","PostLogOutUri":"https://localhost:3000/","State":null,"Raw":{"id_token_hint":"***REDACTED***","post_logout_redirect_uri":"https://localhost:3000/"},"$type":"EndSessionRequestValidationLog"}
2020-03-29 18:08:11.431 +02:00 [DBG] Success validating end session request from implicitClient
2020-03-29 18:08:13.218 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:08:13.218 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:08:13.218 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:08:13.218 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:08:13.218 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:08:13.218 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:08:13.218 +02:00 [DBG] Start discovery request
2020-03-29 18:08:13.229 +02:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-03-29 18:08:13.231 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-03-29 18:08:13.231 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-03-29 18:08:13.231 +02:00 [DBG] Start authorize request
2020-03-29 18:08:13.231 +02:00 [DBG] No user present in authorize request
2020-03-29 18:08:13.231 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:08:13.231 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:08:13.232 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:08:13.232 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"anonymous","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"ca789aecd6784a238c89e4fb7d9457f6","UiLocales":null,"Nonce":"44d320edc8044ea7b42db38199f6253d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"ca789aecd6784a238c89e4fb7d9457f6","nonce":"44d320edc8044ea7b42db38199f6253d"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:08:13.232 +02:00 [INF] Showing login: User is not authenticated
2020-03-29 18:08:17.179 +02:00 [DBG] Augmenting SignInContext
2020-03-29 18:08:17.180 +02:00 [DBG] Adding idp claim with value: local
2020-03-29 18:08:17.180 +02:00 [DBG] Adding amr claim with value: pwd
2020-03-29 18:08:17.186 +02:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-03-29 18:08:17.188 +02:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-03-29 18:08:17.188 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-03-29 18:08:17.188 +02:00 [DBG] Start authorize callback request
2020-03-29 18:08:17.188 +02:00 [DBG] User in authorize request: test2@test.com
2020-03-29 18:08:17.188 +02:00 [DBG] Start authorize request protocol validation
2020-03-29 18:08:17.188 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:08:17.188 +02:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-03-29 18:08:17.188 +02:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"implicitClient","ClientName":null,"RedirectUri":"https://localhost:3000/callback/","AllowedRedirectUris":["https://localhost:3000/callback/"],"SubjectId":"test2@test.com","ResponseType":"id_token token","ResponseMode":"fragment","GrantType":"implicit","RequestedScopes":"openid profile mercuryApi","State":"ca789aecd6784a238c89e4fb7d9457f6","UiLocales":null,"Nonce":"44d320edc8044ea7b42db38199f6253d","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"xQkXpYYDeJMpWGaJd1gY3w","Raw":{"client_id":"implicitClient","redirect_uri":"https://localhost:3000/callback/","response_type":"id_token token","scope":"openid profile mercuryApi","state":"ca789aecd6784a238c89e4fb7d9457f6","nonce":"44d320edc8044ea7b42db38199f6253d"},"$type":"AuthorizeRequestValidationLog"}
2020-03-29 18:08:17.192 +02:00 [DBG] Client is configured to not require consent, no consent is required
2020-03-29 18:08:17.192 +02:00 [DBG] Creating Implicit Flow response.
2020-03-29 18:08:17.192 +02:00 [DBG] Getting claims for access token for client: implicitClient
2020-03-29 18:08:17.192 +02:00 [DBG] Getting claims for access token for subject: test2@test.com
2020-03-29 18:08:17.195 +02:00 [DBG] Getting claims for identity token for subject: test2@test.com and client: implicitClient
2020-03-29 18:08:17.195 +02:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-03-29 18:08:17.197 +02:00 [DBG] Authorize endpoint response
{"SubjectId":"test2@test.com","ClientId":"implicitClient","RedirectUri":"https://localhost:3000/callback/","State":"ca789aecd6784a238c89e4fb7d9457f6","Scope":"openid profile mercuryApi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-03-29 18:08:17.198 +02:00 [DBG] Augmenting SignInContext
2020-03-29 18:08:17.572 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://localhost:3000
2020-03-29 18:08:17.572 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:08:17.572 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:08:17.572 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-03-29 18:08:17.572 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-03-29 18:08:17.573 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-03-29 18:08:17.573 +02:00 [DBG] Start discovery request
2020-03-29 18:08:17.629 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: https://localhost:3000
2020-03-29 18:08:17.629 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:08:17.629 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:08:17.629 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-03-29 18:08:17.630 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-03-29 18:08:17.630 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-03-29 18:08:17.630 +02:00 [DBG] Start key discovery request
2020-03-29 18:08:17.683 +02:00 [DBG] CORS request made for path: /connect/userinfo from origin: https://localhost:3000
2020-03-29 18:08:17.683 +02:00 [DBG] Client list checked and origin: https://localhost:3000 is allowed
2020-03-29 18:08:17.683 +02:00 [DBG] CorsPolicyService allowed origin: https://localhost:3000
2020-03-29 18:08:17.683 +02:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-03-29 18:08:17.684 +02:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-03-29 18:08:17.684 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-03-29 18:08:17.686 +02:00 [DBG] Start userinfo request
2020-03-29 18:08:17.686 +02:00 [DBG] Bearer token found in header
2020-03-29 18:08:17.689 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:08:17.689 +02:00 [DBG] client configuration validation for client implicitClient succeeded.
2020-03-29 18:08:17.693 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-03-29 18:08:17.693 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1585498097,"exp":1585501697,"iss":"https://localhost:44301","aud":"mercuryApi","client_id":"implicitClient","sub":"test2@test.com","auth_time":1585498097,"idp":"local","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier":"5","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name":"test2@test.com","Id":"5","scope":["openid","profile","mercuryApi"],"amr":"pwd"},"$type":"TokenValidationLog"}
2020-03-29 18:08:17.696 +02:00 [DBG] Creating userinfo response
2020-03-29 18:08:17.696 +02:00 [DBG] Scopes in access token: openid profile mercuryApi
2020-03-29 18:08:17.696 +02:00 [DBG] Scopes in access token: openid profile mercuryApi
2020-03-29 18:08:17.696 +02:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2020-03-29 18:08:17.696 +02:00 [DBG] Scopes in access token: openid profile mercuryApi
2020-03-29 18:08:17.703 +02:00 [INF] Profile service returned the following claim types: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name Id
2020-03-29 18:08:17.703 +02:00 [DBG] End userinfo request
2020-03-29 18:08:17.723 +02:00 [DBG] Request path /connect/checksession matched to endpoint type Checksession
2020-03-29 18:08:17.723 +02:00 [DBG] Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint
2020-03-29 18:08:17.723 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
2020-03-29 18:08:17.723 +02:00 [DBG] Rendering check session result
